var S=(C,o,p)=>new Promise((v,c)=>{var w=r=>{try{m(p.next(r))}catch(f){c(f)}},a=r=>{try{m(p.throw(r))}catch(f){c(f)}},m=r=>r.done?v(r.value):Promise.resolve(r.value).then(w,a);m((p=p.apply(C,o)).next())});import{_ as B,a as R,b as F}from"../assets/index-wFKlhvRq.js";import{s as _}from"../chunks/card.esm-CiQ1Wq-4.js";import{s as g,a as A}from"../chunks/button.esm-tVDeXX10.js";import{s as z}from"../chunks/avatar.esm-C27Wdo5a.js";import{s as q}from"../chunks/breadcrumb.esm-C9yKBWP_.js";import{s as U}from"../chunks/divider.esm-ZQADHX9V.js";import{P as G,a as H}from"../chunks/PasswordDialog-B0EMqxbD.js";import{a as P,r as J,y as K,c as h,b as s,e as i,u as t,w as u,o as k,C as l,p as I}from"../chunks/vue-vendor-DAChQ3rz.js";import"../chunks/dialog.esm-CYAWXk5o.js";import"../chunks/inputtext.esm-DAhs_0Nh.js";import"../chunks/textarea.esm-D6i7G5ct.js";import"../chunks/calendar.esm-C4xoRl7p.js";import"../chunks/index.esm-CD-3j7eP.js";import"../chunks/overlayeventbus.esm-B_8idrPH.js";import"../chunks/password.esm-Cxp4KApT.js";const O={class:"profile-view"},Q={class:"page-header"},W={class:"header-content"},X={class:"header-info"},Y={class:"profile-content"},Z={class:"profile-header"},ss={class:"profile-info"},es={class:"user-role"},ts={class:"user-email"},is={class:"profile-actions"},os={class:"info-grid"},ls={class:"info-item"},ns={class:"info-item"},as={class:"info-item"},rs={class:"info-item"},ds={key:0,class:"info-item"},ps={key:1,class:"info-item"},cs={class:"security-content"},us={class:"security-item"},ms={class:"security-info"},vs={class:"security-item"},fs={class:"security-item"},ys={class:"activity-stats"},gs={class:"stat-item"},bs={class:"stat-info"},_s={class:"stat-number"},ws={class:"stat-item"},Ss={class:"stat-info"},Ps={class:"stat-number"},hs={class:"stat-item"},ks={class:"stat-info"},Cs={class:"stat-number"},Ds={class:"stat-item"},Ms={class:"stat-info"},Ls={class:"stat-number"},js={__name:"ProfileView",setup(C){const o=R(),p=F(),v=P(!1),c=P(!1),w=P([{label:"Dashboard",icon:"pi pi-home",route:"/employee/dashboard"},{label:"Profile Settings"}]),a=J({projects:0,files:0,logins:0,lastLogin:null}),m=d=>({admin:"Administrator",project_manager:"Project Manager",employee:"Employee"})[d]||d,r=d=>({admin:"danger",project_manager:"warning",employee:"info"})[d]||"info",f=d=>d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",V=()=>"Unknown",x=()=>"Today",E=()=>{p.add({severity:"info",summary:"Coming Soon",detail:"Session management features will be available in a future update",life:3e3})},T=()=>{p.add({severity:"info",summary:"Coming Soon",detail:"Advanced security settings will be available in a future update",life:3e3})},N=()=>S(null,null,function*(){a.projects=5,a.files=23,a.logins=12,a.lastLogin=new Date});return K(()=>S(null,null,function*(){document.title="Profile Settings - Employee Portal",yield N()})),(d,e)=>(k(),h("div",O,[s("div",Q,[s("div",W,[s("div",X,[i(t(q),{model:w.value},null,8,["model"]),e[5]||(e[5]=s("h1",null,"Profile Settings",-1)),e[6]||(e[6]=s("p",null,"Manage your profile and account settings",-1))])])]),s("div",Y,[i(t(_),{class:"profile-overview"},{content:u(()=>{var n,y;return[s("div",Z,[i(t(z),{label:t(o).employeeInitials,size:"xlarge",class:"user-avatar"},null,8,["label"]),s("div",ss,[s("h2",null,l(t(o).employeeFullName),1),s("p",es,l(m((n=t(o).employee)==null?void 0:n.role)),1),s("p",ts,l((y=t(o).employee)==null?void 0:y.email),1),s("div",is,[i(t(g),{label:"Edit Profile",icon:"pi pi-user-edit",onClick:e[0]||(e[0]=b=>v.value=!0)}),i(t(g),{label:"Change Password",icon:"pi pi-key",onClick:e[1]||(e[1]=b=>c.value=!0),severity:"secondary"})])])])]}),_:1}),i(t(_),{class:"account-info"},{title:u(()=>e[7]||(e[7]=[s("div",{class:"card-header"},[s("i",{class:"pi pi-info-circle"}),s("span",null,"Account Information")],-1)])),content:u(()=>{var n,y,b,D,M,L,j,$;return[s("div",os,[s("div",ls,[e[8]||(e[8]=s("label",null,"Employee ID",-1)),s("span",null,l((n=t(o).employee)==null?void 0:n.id),1)]),s("div",ns,[e[9]||(e[9]=s("label",null,"Role",-1)),i(t(A),{value:m((y=t(o).employee)==null?void 0:y.role),severity:r((b=t(o).employee)==null?void 0:b.role)},null,8,["value","severity"])]),s("div",as,[e[10]||(e[10]=s("label",null,"Status",-1)),i(t(A),{value:"Active",severity:"success"})]),s("div",rs,[e[11]||(e[11]=s("label",null,"Member Since",-1)),s("span",null,l(f((D=t(o).employee)==null?void 0:D.created_at)),1)]),(M=t(o).employee)!=null&&M.phone?(k(),h("div",ds,[e[12]||(e[12]=s("label",null,"Phone",-1)),s("span",null,l((L=t(o).employee)==null?void 0:L.phone),1)])):I("",!0),(j=t(o).employee)!=null&&j.department?(k(),h("div",ps,[e[13]||(e[13]=s("label",null,"Department",-1)),s("span",null,l(($=t(o).employee)==null?void 0:$.department),1)])):I("",!0)])]}),_:1}),i(t(_),{class:"security-settings"},{title:u(()=>e[14]||(e[14]=[s("div",{class:"card-header"},[s("i",{class:"pi pi-shield"}),s("span",null,"Security Settings")],-1)])),content:u(()=>[s("div",cs,[s("div",us,[s("div",ms,[e[15]||(e[15]=s("h4",null,"Password",-1)),s("p",null,"Last changed: "+l(V()),1)]),i(t(g),{label:"Change Password",icon:"pi pi-key",onClick:e[2]||(e[2]=n=>c.value=!0),outlined:""})]),i(t(U)),s("div",vs,[e[16]||(e[16]=s("div",{class:"security-info"},[s("h4",null,"Session Management"),s("p",null,"Manage your active sessions and login activity")],-1)),i(t(g),{label:"View Sessions",icon:"pi pi-clock",onClick:E,outlined:"",disabled:""})]),i(t(U)),s("div",fs,[e[17]||(e[17]=s("div",{class:"security-info"},[s("h4",null,"Account Security"),s("p",null,"Two-factor authentication and security preferences")],-1)),i(t(g),{label:"Security Settings",icon:"pi pi-cog",onClick:T,outlined:"",disabled:""})])])]),_:1}),i(t(_),{class:"activity-summary"},{title:u(()=>e[18]||(e[18]=[s("div",{class:"card-header"},[s("i",{class:"pi pi-chart-bar"}),s("span",null,"Activity Summary")],-1)])),content:u(()=>[s("div",ys,[s("div",gs,[e[20]||(e[20]=s("div",{class:"stat-icon projects"},[s("i",{class:"pi pi-briefcase"})],-1)),s("div",bs,[s("span",_s,l(a.projects||0),1),e[19]||(e[19]=s("span",{class:"stat-label"},"Projects",-1))])]),s("div",ws,[e[22]||(e[22]=s("div",{class:"stat-icon files"},[s("i",{class:"pi pi-file"})],-1)),s("div",Ss,[s("span",Ps,l(a.files||0),1),e[21]||(e[21]=s("span",{class:"stat-label"},"Files Uploaded",-1))])]),s("div",hs,[e[24]||(e[24]=s("div",{class:"stat-icon logins"},[s("i",{class:"pi pi-sign-in"})],-1)),s("div",ks,[s("span",Cs,l(a.logins||0),1),e[23]||(e[23]=s("span",{class:"stat-label"},"Logins This Month",-1))])]),s("div",Ds,[e[26]||(e[26]=s("div",{class:"stat-icon last-login"},[s("i",{class:"pi pi-clock"})],-1)),s("div",Ms,[s("span",Ls,l(x()),1),e[25]||(e[25]=s("span",{class:"stat-label"},"Last Login",-1))])])])]),_:1})]),i(G,{visible:v.value,"onUpdate:visible":e[3]||(e[3]=n=>v.value=n)},null,8,["visible"]),i(H,{visible:c.value,"onUpdate:visible":e[4]||(e[4]=n=>c.value=n)},null,8,["visible"])]))}},Js=B(js,[["__scopeId","data-v-55e62e04"]]);export{Js as default};
